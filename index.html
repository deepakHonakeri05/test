<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/test/icon.png"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Simple messages reading app"/><link rel="apple-touch-icon" href="/test/icon.png"/><link rel="manifest" href="/test/manifest.json"/><title>Messages App</title><script defer="defer" src="/test/static/js/main.df8cf528.js"></script><link href="/test/static/css/main.15b9f58a.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><button onclick="window.location.reload()" style="float:right">Refresh Page</button><br><button id="notificationButton" style="float:right">Notifications</button><div id="root"></div><script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-messaging.js"></script><script>async function getToken(){const o=firebase.messaging();let e=await o.getToken({vapidKey:"BGpSx8A8H1GIYNjCCRE5YhFp32AaYbuDkejYZF_qQJKTNRbVYjLcsS5CHybsrfNTRvsZ9yrg8TXpkJM6BedI8yE"});console.log(e)}async function getNotificationPermission(){return await Notification.requestPermission()}function handleNotification(){console.log("Notification permission granted. Requesting for token."),getToken().catch((o=>{console.error("Error getting token:",o)}));new Notification("Name",{body:"Message",icon:"/public/icon.png"})}"serviceWorker"in navigator?window.addEventListener("load",(function(){navigator.serviceWorker.register("worker.js").then((function(o){console.log("Worker registration successful",o.scope)}),(function(o){console.log("Worker registration failed",o)})).catch((function(o){console.log(o)}))})):console.log("Service Worker is not supported by browser.");const myButton=document.getElementById("notificationButton");"granted"===Notification.permission?handleNotification():myButton.addEventListener("click",(async()=>{"granted"===getNotificationPermission().catch((o=>{console.error("Error getting permission:",o)}))?handleNotification():console.log("Notification permission denied")}))</script></body></html>